/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * ModbusMasterDialog.java
 *
 * Created on 4 janv. 2009, 12:47:46
 */

package modbuspal.script;

import java.awt.Frame;
import modbuspal.automation.Automation;
import modbuspal.main.ModbusPalListener;
import modbuspal.slave.ModbusSlave;

/**
 *
 * @author nnovic
 */
public class ScriptManagerDialog
extends javax.swing.JDialog
implements ModbusPalListener
{
    private TabOnDemand tabOnDemand;
    

    /** Creates new form ModbusMasterDialog */
    public ScriptManagerDialog(Frame parent)
    {
        super(parent, false);
        initComponents();
        tabOnDemand = new TabOnDemand(this);
        tabs.add("On demand", tabOnDemand);
    }


    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        statusPanel = new javax.swing.JPanel();
        statusLabel = new javax.swing.JLabel();
        tabs = new javax.swing.JTabbedPane();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("Scripts manager");
        setMinimumSize(new java.awt.Dimension(400, 300));

        statusPanel.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.RIGHT));

        statusLabel.setText(".");
        statusPanel.add(statusLabel);

        getContentPane().add(statusPanel, java.awt.BorderLayout.SOUTH);
        getContentPane().add(tabs, java.awt.BorderLayout.CENTER);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    /**
     * this function is triggered when the user clicks on the "add"
     * button. it will dispay a dialog so that the user can add a
     * new modbus request.
     * @param evt
     */

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel statusLabel;
    private javax.swing.JPanel statusPanel;
    private javax.swing.JTabbedPane tabs;
    // End of variables declaration//GEN-END:variables

    void setStatus(String text)
    {
        statusLabel.setText(text);
    }

    @Override
    public void modbusSlaveAdded(ModbusSlave slave) {
    }

    @Override
    public void modbusSlaveRemoved(ModbusSlave slave) {
    }

    @Override
    public void automationAdded(Automation automation, int index) {
    }

    @Override
    public void automationRemoved(Automation automation) {
    }

    @Override
    public void tilt() {
    }

    @Override
    public void scriptManagerAdded(ScriptManager manager)
    {
        switch( manager.getType() )
        {
            default:
            case ScriptManager.SCRIPT_ON_DEMAND:
                 tabOnDemand.add(manager);
                 break;
        }
    }

}
